import{x as V,d as w,c as n,o as i,a as c,u as s,g as U,e as h,b as e,m as C,F as k,h as v,f as m,k as b,t as o,v as x,i as f,a1 as p,S,j}from"./app-a8NxV_Wl.js";import{_ as M}from"./AuthenticatedLayout-BXOZ2c7L.js";const N={class:"flex items-center justify-between"},B={class:"text-xl font-semibold text-gray-800 dark:text-gray-100"},D={class:"max-w-3xl mx-auto mt-6 sm:px-6 lg:px-8"},P={class:"overflow-hidden bg-white shadow sm:rounded-lg dark:bg-gray-800"},E={class:"p-6 space-y-6"},F=["for"],O=["id","onUpdate:modelValue"],T={key:0,class:"mt-1 text-sm text-red-600"},G={for:"birthday",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},I={key:0,class:"mt-1 text-sm text-red-600"},L={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},q={value:"male"},z={value:"female"},A={key:0,class:"mt-1 text-sm text-red-600"},H={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},J=["value"],K={key:0,class:"mt-1 text-sm text-red-600"},Q={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},R={value:1},W={value:0},X={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},Y={class:"relative"},Z=["type"],ee={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},te={class:"block mt-4 text-sm font-medium text-gray-700 dark:text-gray-300"},re={class:"relative"},se=["type"],oe={key:0,class:"mt-1 text-sm text-red-600"},ae={key:1,class:"mt-1 text-sm text-red-600"},de={class:"flex justify-end"},le=["disabled"],ue={__name:"Edit",props:{user:Object,roles:Object},setup(l){const r=V({name_th:l.user.name_th??"",surname_th:l.user.surname_th??"",name_en:l.user.name_en??"",surname_en:l.user.surname_en??"",email:l.user.email??"",gender:l.user.gender??"",birthday:l.user.birthday??"",room_id:l.user.room_id??"",role:l.user.role,status:l.user.status??!0,avatar:l.user.avatar??"",password:"",password_confirmation:""}),g=w(!1),y=w(!1),_=()=>{const t=Math.random().toString(36).slice(-8);r.password=t,r.password_confirmation=t,alert(`Generated password: ${t}`)};return(t,a)=>(i(),n(k,null,[c(s(U),{title:t.$t("edit")},null,8,["title"]),c(M,null,{header:h(()=>[e("div",N,[e("h2",B,o(t.$t("edit"))+" - "+o(l.user.name),1),c(s(S),{href:t.route("users.index"),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-gray-600 rounded hover:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600"},{default:h(()=>[j(" ← "+o(t.$t("menu.user_management")),1)]),_:1},8,["href"])])]),default:h(()=>[e("div",D,[e("div",P,[e("div",E,[e("form",{onSubmit:a[8]||(a[8]=C(d=>s(r).put(t.route("users.update",l.user.id)),["prevent"])),class:"space-y-4"},[(i(!0),n(k,null,v({name_th:t.$t("name_th"),surname_th:t.$t("surname_th"),name_en:t.$t("name_en"),surname_en:t.$t("surname_en"),email:t.$t("email_label")},(d,u)=>(i(),n("div",{key:u},[e("label",{for:u,class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},o(d),9,F),m(e("input",{id:u,"onUpdate:modelValue":$=>s(r)[u]=$,type:"text",class:"block w-full mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,8,O),[[x,s(r)[u]]]),s(r).errors[u]?(i(),n("div",T,o(s(r).errors[u]),1)):b("",!0)]))),128)),e("div",null,[e("label",G,o(t.$t("birthday")),1),m(e("input",{id:"birthday","onUpdate:modelValue":a[0]||(a[0]=d=>s(r).birthday=d),type:"date",class:"block w-full mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[x,s(r).birthday]]),s(r).errors.birthday?(i(),n("div",I,o(s(r).errors.birthday),1)):b("",!0)]),e("div",null,[e("label",L,o(t.$t("gender")),1),m(e("select",{"onUpdate:modelValue":a[1]||(a[1]=d=>s(r).gender=d),class:"block w-full mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[e("option",q,o(t.$t("gender_male")),1),e("option",z,o(t.$t("gender_female")),1)],512),[[f,s(r).gender]]),s(r).errors.gender?(i(),n("div",A,o(s(r).errors.gender),1)):b("",!0)]),e("div",null,[e("label",H,o(t.$t("roles_label")),1),m(e("select",{"onUpdate:modelValue":a[2]||(a[2]=d=>s(r).role=d),class:"block w-full mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[(i(!0),n(k,null,v(l.roles,(d,u)=>(i(),n("option",{key:u,value:parseInt(u)},o(t.$t(`roles.${d}`)),9,J))),128))],512),[[f,s(r).role]]),s(r).errors.role?(i(),n("div",K,o(s(r).errors.role),1)):b("",!0)]),e("div",null,[e("label",Q,o(t.$t("status")),1),m(e("select",{"onUpdate:modelValue":a[3]||(a[3]=d=>s(r).status=d),class:"block w-full mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[e("option",R,o(t.$t("active")),1),e("option",W,o(t.$t("inactive")),1)],512),[[f,s(r).status]])]),e("div",null,[e("label",X,o(t.$t("password")),1),e("div",Y,[m(e("input",{"onUpdate:modelValue":a[4]||(a[4]=d=>s(r).password=d),type:g.value?"text":"password",class:"block w-full pr-10 mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,8,Z),[[p,s(r).password]]),e("button",{type:"button",onClick:a[5]||(a[5]=d=>g.value=!g.value),class:"absolute text-sm text-gray-500 top-2 right-2 dark:text-gray-300"},o(g.value?t.$t("hide"):t.$t("show")),1)]),e("p",ee,o(t.$t("password_note")),1),e("label",te,o(t.$t("confirm_password")),1),e("div",re,[m(e("input",{"onUpdate:modelValue":a[6]||(a[6]=d=>s(r).password_confirmation=d),type:y.value?"text":"password",class:"block w-full pr-10 mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,8,se),[[p,s(r).password_confirmation]]),e("button",{type:"button",onClick:a[7]||(a[7]=d=>y.value=!y.value),class:"absolute text-sm text-gray-500 top-2 right-2 dark:text-gray-300"},o(y.value?t.$t("hide"):t.$t("show")),1)]),s(r).errors.password?(i(),n("div",oe,o(s(r).errors.password),1)):b("",!0),s(r).errors.password_confirmation?(i(),n("div",ae,o(s(r).errors.password_confirmation),1)):b("",!0),e("button",{type:"button",onClick:_,class:"inline-flex items-center px-3 py-1 mt-3 text-sm text-white bg-indigo-600 rounded hover:bg-indigo-700"},o(t.$t("generate_password")),1)]),e("div",de,[e("button",{type:"submit",class:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600",disabled:s(r).processing},o(t.$t("save")),9,le)])],32)])])])]),_:1})],64))}};export{ue as default};
