import{e as S,W as A,w as L,c as o,o as a,a as c,u as _,g as V,f as h,b as t,h as x,v as E,F as u,i as p,t as l,j as y,S as b,k as j,m as B,n as D}from"./app-Drxg6_yr.js";import{_ as M}from"./AuthenticatedLayout-DRRzTg1e.js";import{d as N}from"./debounce-DNmuEe8I.js";const T={class:"text-xl font-semibold text-gray-800 dark:text-gray-200"},C={class:"px-4 py-8 mx-auto max-w-7xl"},F={class:"flex flex-wrap gap-4 mb-6"},U=["value"],H=["value"],I=["href"],O=["href"],R={class:"overflow-x-auto bg-white rounded shadow dark:bg-gray-800"},W={class:"min-w-full text-sm text-left"},$={class:"px-4 py-2"},z={class:"px-4 py-2"},P={class:"px-4 py-2"},q={class:"px-4 py-2"},G={class:"flex justify-center mt-6"},X={__name:"Index",props:{students:Object,rooms:Array,classLevels:Array,filters:Object},setup(k){const d=k,r=S({search:d.filters.search||"",class_level_id:d.filters.class_level_id||"",room_id:d.filters.room_id||""}),w=N(()=>{A.get(route("students.index"),r.value,{preserveScroll:!0,preserveState:!0,replace:!0})},400);return L(r,w),(i,s)=>(a(),o(u,null,[c(_(V),{title:"All Students"}),c(M,null,{header:h(()=>[t("h2",T,l(i.$t("menu.all_students")),1)]),default:h(()=>[t("div",C,[t("div",F,[x(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>r.value.search=e),type:"text",placeholder:"Search...",class:"p-2 border rounded dark:bg-gray-700 dark:text-white"},null,512),[[E,r.value.search]]),x(t("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>r.value.class_level_id=e),class:"p-2 border rounded dark:bg-gray-700 dark:text-white"},[s[3]||(s[3]=t("option",{value:""},"All Class Levels",-1)),(a(!0),o(u,null,p(d.classLevels,e=>(a(),o("option",{key:e.id,value:e.id},l(e.name_th),9,U))),128))],512),[[y,r.value.class_level_id]]),x(t("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>r.value.room_id=e),class:"p-2 border rounded dark:bg-gray-700 dark:text-white"},[s[4]||(s[4]=t("option",{value:""},"All Rooms",-1)),(a(!0),o(u,null,p(d.rooms,e=>{var n;return a(),o("option",{key:e.id,value:e.id},l((n=e.class_level)==null?void 0:n.name_th)+" "+l(e.name_room_th),9,H)}),128))],512),[[y,r.value.room_id]]),t("a",{href:i.route("students.export.excel",r.value),class:"px-4 py-2 text-white bg-green-600 rounded hover:bg-green-700"}," Export Excel ",8,I),t("a",{href:i.route("students.export.pdf",r.value),class:"px-4 py-2 text-white bg-red-600 rounded hover:bg-red-700"}," Export PDF ",8,O)]),t("div",R,[t("table",W,[s[6]||(s[6]=t("thead",{class:"bg-gray-100 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-4 py-2"},"ID"),t("th",{class:"px-4 py-2"},"Name"),t("th",{class:"px-4 py-2"},"Room"),t("th",{class:"px-4 py-2"},"Action")])],-1)),t("tbody",null,[(a(!0),o(u,null,p(d.students.data,e=>{var n,m,v,f,g;return a(),o("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",$,l(e.student_id),1),t("td",z,l(e.name_th)+" "+l(e.surname_th),1),t("td",P,l((v=(m=(n=e.current_room)==null?void 0:n[0])==null?void 0:m.class_level)==null?void 0:v.name_th)+" "+l((g=(f=e.current_room)==null?void 0:f[0])==null?void 0:g.name_room_th),1),t("td",q,[c(_(b),{href:i.route("students.edit",e.id),class:"text-blue-600 hover:underline"},{default:h(()=>s[5]||(s[5]=[j("Edit")])),_:2},1032,["href"])])])}),128))])])]),t("div",G,[(a(!0),o(u,null,p(d.students.links,e=>(a(),B(_(b),{key:e.label,href:e.url||"#",class:D(["px-3 py-1 mx-1 border rounded",{"bg-blue-500 text-white":e.active}]),innerHTML:e.label},null,8,["href","class","innerHTML"]))),128))])])]),_:1})],64))}};export{X as default};
