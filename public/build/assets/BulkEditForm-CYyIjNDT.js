import{x as k,w as b,d as v,a3 as V,V as D,c as d,o as n,a as c,u as i,g as N,e as p,b as t,m as S,k as B,F as x,h as $,t as m,$ as f,n as U,j as E,D as F}from"./app-a8NxV_Wl.js";import{_ as K}from"./AuthenticatedLayout-BXOZ2c7L.js";import{P as j}from"./PrimaryButton-C1J-uQhX.js";import{_ as A}from"./TextInput-B6lnT0Jm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"},T={class:"py-12"},P={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},R={class:"bg-white shadow-sm dark:bg-gray-800 sm:rounded-lg"},q={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},z={class:"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700"},I={class:"px-6 py-4 text-sm text-gray-900 whitespace-nowrap dark:text-gray-100"},L={class:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap dark:text-gray-300"},M={class:"px-6 py-4 text-sm text-gray-900 whitespace-nowrap dark:text-gray-100"},O={key:0},G={class:"flex items-center justify-end mt-6"},Y={__name:"BulkEditForm",props:{teachers:Array,errors:Object,success:String,warning:String,error:String},setup(_){const u=_,r=k({teachers:u.teachers.map(e=>({id:e.id,name:e.name,email:e.email}))});b(()=>u.teachers,e=>{r.teachers=e.map(a=>({id:a.id,name:a.name,email:a.email}))},{deep:!0});const o=v([]),h=e=>{e&&o.value.push(e)};V(()=>{o.value=[]}),D(()=>{o.value=[]});const w=()=>{const e={teachers:r.teachers.map(a=>({id:a.id,name:a.name}))};r.transform(()=>e).put(route("teachers.bulk-update.submit"),{preserveScroll:!0})},g=(e,a)=>{let s=-1;e.key==="ArrowDown"?(e.preventDefault(),a<o.value.length-1&&(s=a+1)):e.key==="ArrowUp"&&(e.preventDefault(),a>0&&(s=a-1)),s!==-1&&o.value[s]&&F(()=>{o.value[s].focus(),o.value[s].select()})};return(e,a)=>(n(),d(x,null,[c(i(N),{title:e.$t("bulk_edit_teachers_title")},null,8,["title"]),c(K,null,{header:p(()=>[t("h2",C,m(e.$t("bulk_edit_teachers_header")),1)]),default:p(()=>[t("div",T,[t("div",P,[t("form",{onSubmit:S(w,["prevent"])},[t("div",R,[t("table",q,[a[1]||(a[1]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase dark:text-gray-300"},"ID"),t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase dark:text-gray-300"},"Email"),t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase dark:text-gray-300"},"Name (Editable)")])],-1)),t("tbody",z,[(n(!0),d(x,null,$(i(r).teachers,(s,y)=>(n(),d("tr",{key:s.id},[t("td",I,m(s.id),1),t("td",L,m(s.email),1),t("td",M,[c(A,{type:"text",class:"block w-full mt-1",modelValue:s.name,"onUpdate:modelValue":l=>s.name=l,required:"",ref_for:!0,ref:h,onKeydown:[f(l=>g(l,y),["down"]),f(l=>g(l,y),["up"])]},null,8,["modelValue","onUpdate:modelValue","onKeydown"])])]))),128)),!i(r).teachers||i(r).teachers.length===0?(n(),d("tr",O,a[0]||(a[0]=[t("td",{colspan:"3",class:"px-6 py-4 text-sm text-center text-gray-500 whitespace-nowrap dark:text-gray-400"}," No teachers found. ",-1)]))):B("",!0)])])]),t("div",G,[c(j,{class:U({"opacity-25":i(r).processing}),disabled:i(r).processing},{default:p(()=>[E(m(e.$t("save_all_changes_button")),1)]),_:1},8,["class","disabled"])])],32)])])]),_:1})],64))}};export{Y as default};
