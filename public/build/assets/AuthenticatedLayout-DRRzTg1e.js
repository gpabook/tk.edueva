import{y as z,B as O,q as E,e as C,r as U,z as F,c as n,o as r,b as e,l as a,m as b,f as p,u as o,S as g,t as l,k as d,h as f,n as h,O as w,a as y,p as Y,j as G,A as I}from"./app-Drxg6_yr.js";const H={class:"flex h-screen text-gray-800 bg-gray-100 dark:bg-gray-900 dark:text-gray-100"},J={class:"pt-4 mt-6 border-b border-gray-200 dark:border-gray-700"},K={class:"px-3"},Q={class:"relative flex flex-col items-center group"},R=["src"],W={key:1,class:"w-full mt-2 text-center"},X={class:"text-sm font-semibold text-gray-800 truncate dark:text-gray-100"},Z={class:"text-xs text-red-500 truncate dark:text-green-400"},ee={class:"text-xs text-gray-500 truncate dark:text-gray-400"},te={class:"mt-2 space-y-1"},se={class:"flex items-center justify-between p-4"},re={key:0,class:"flex items-center space-x-2 text-lg font-semibold"},oe={key:0,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ae={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},le={class:"px-2 py-2 border-gray-200 dark:border-gray-700"},ne={key:0},ue={key:0,class:"pl-10 mt-1 space-y-1"},ie=["action"],de=["value"],pe={type:"submit",class:"block py-1 text-sm text-left text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300"},ge={class:"flex-1 overflow-y-auto"},me={class:"px-2 space-y-2"},ye={key:0},ke={key:0},ve={key:0,class:"pl-10 mt-1 space-y-1"},fe={href:"#",class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},he={href:"#",class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},ce={key:0},xe={key:0,class:"pl-10 mt-1 space-y-1"},be={key:0},we={key:0},_e={key:0,class:"pl-10 mt-1 space-y-1"},$e={key:0},Ce={key:1},Se={key:2},Be={key:0},je={key:0,class:"pl-10 mt-1 space-y-1"},Me={key:0},Ee={key:0,class:"pl-10 mt-1 space-y-1"},Ie={key:0},Le={key:1},Ae=["href"],De={key:2},Ve=["href"],Ne={key:3},Pe={key:4},qe={href:"#",class:"flex items-center p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},Te={key:0},ze={key:0,class:"flex flex-col p-4 mt-auto space-y-3"},Oe={class:"flex items-center justify-between"},Ue={class:"material-icons"},Fe={class:"flex flex-col flex-1"},Ye={key:0,class:"px-6 py-4 bg-white shadow dark:bg-gray-800"},Ge={class:"flex-1 p-6 overflow-auto bg-gray-50 dark:bg-gray-900"},He={class:"px-6 py-4 text-sm text-gray-600 bg-white border-t border-gray-200 dark:text-gray-400 dark:bg-gray-800 dark:border-gray-700"},Je={class:"flex flex-col items-center justify-between gap-2 sm:flex-row"},Ke={class:"flex flex-col items-center gap-2 sm:flex-row sm:gap-4"},Qe={class:"text-xs text-gray-500 sm:text-sm dark:text-gray-400"},Re={class:"flex gap-3"},We={href:"#",class:"hover:underline"},Xe={href:"#",class:"hover:underline"},tt={__name:"AuthenticatedLayout",setup(Ze){var B;const{locale:S,t:i}=z(),v=O(),L="1.0.0",_=s=>v.props.auth.user&&v.props.auth.user.permissions?v.props.auth.user.permissions.includes(s):!1,A=E(()=>{var s,t;return((t=(s=v.props.auth)==null?void 0:s.user)==null?void 0:t.avatar_url)??"/images/default-avatar.png"}),D=((B=document.querySelector('meta[name="csrf-token"]'))==null?void 0:B.getAttribute("content"))||"",u=C(!1);function V(){u.value=!u.value}const N=C(localStorage.getItem("desktopSidebarCollapsed")==="true"),P=E(()=>!N.value),m=U({settings:!1,classroom:!1,schoolBank:!1,profile:!1});function c(s){m[s]=!m[s]}const x=C(!1);function q(){x.value=!x.value;const s=document.documentElement;x.value?(s.classList.add("dark"),localStorage.setItem("theme","dark")):(s.classList.remove("dark"),localStorage.setItem("theme","light"))}const $=C("th");function T(){S.value=$.value,localStorage.setItem("lang",$.value)}return F(()=>{const s=localStorage.getItem("theme");(s==="dark"||!s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(x.value=!0,document.documentElement.classList.add("dark"));const t=localStorage.getItem("lang")||"th";$.value=t,S.value=t}),(s,t)=>{var j,M;return r(),n("div",H,[e("aside",{class:h([["bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300",u.value?"w-16":"w-64"],"flex flex-col"])},[e("div",J,[e("div",K,[e("div",Q,[_("update avatar")?(r(),b(o(g),{key:0,href:s.route("avatar.update"),class:"block rounded-full hover:ring-2 hover:ring-blue-400",title:"View Profile"},{default:p(()=>[e("img",{src:A.value,alt:"User Avatar",class:"object-cover w-12 border border-gray-300 rounded-full shadow aspect-square dark:border-gray-600"},null,8,R)]),_:1},8,["href"])):a("",!0),P.value?(r(),n("div",W,[e("p",X,l((j=o(v).props.auth.user)==null?void 0:j.name),1),e("p",Z,l(o(v).props.auth.user.roles[0]),1),e("p",ee,l((M=o(v).props.auth.user)==null?void 0:M.email),1),e("div",te,[s.route().has("password.change")?(r(),b(o(g),{key:0,href:s.route("password.change"),class:"block text-xs text-blue-600 hover:underline dark:text-blue-400"},{default:p(()=>[d(l(o(i)("change_password")),1)]),_:1},8,["href"])):a("",!0)])])):a("",!0)])])]),e("div",se,[u.value?a("",!0):(r(),n("span",re,[t[8]||(t[8]=e("img",{src:"/images/appschool_logo_o.svg",alt:"Logo",class:"w-6 h-6"},null,-1)),e("span",null,l(o(i)("appName")),1)])),e("button",{onClick:V,class:"text-gray-500 dark:text-gray-300 hover:text-gray-700"},[u.value?(r(),n("svg",oe,t[9]||(t[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"},null,-1)]))):(r(),n("svg",ae,t[10]||(t[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])))])]),e("div",le,[e("button",{onClick:t[0]||(t[0]=k=>c("profile")),class:"flex items-center w-full p-2 text-left rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[t[12]||(t[12]=e("span",{class:"mr-3 material-icons"},"person",-1)),u.value?a("",!0):(r(),n("span",ne,l(s.$t("menu.profile")),1)),u.value?a("",!0):(r(),n("svg",{key:1,class:h([m.profile?"rotate-90":"","w-4 h-4 ml-auto transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[11]||(t[11]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),u.value?a("",!0):f((r(),n("ul",ue,[e("li",null,[y(o(g),{href:s.route("profile.edit"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[t[13]||(t[13]=e("span",{class:"text-base text-gray-500"},">",-1)),d(" "+l(s.$t("edit_profile")),1)]),_:1},8,["href"])]),e("li",null,[e("form",{method:"POST",action:s.route("logout"),onSubmit:t[1]||(t[1]=Y(k=>k.target.submit(),["prevent"]))},[e("input",{type:"hidden",name:"_token",value:o(D)},null,8,de),e("button",pe,[t[14]||(t[14]=e("span",{class:"text-base text-gray-500"},">",-1)),d(" "+l(s.$t("logout")),1)])],40,ie)])],512)),[[w,m.profile]])]),e("nav",ge,[e("ul",me,[e("li",null,[y(o(g),{href:s.route("dashboard"),class:"flex items-center p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},{default:p(()=>[t[15]||(t[15]=e("span",{class:"mr-3 material-icons"},"dashboard",-1)),u.value?a("",!0):(r(),n("span",ye,l(o(i)("menu.dashboard")),1))]),_:1},8,["href"])]),e("li",null,[e("button",{onClick:t[2]||(t[2]=k=>c("settings")),class:"flex items-center w-full p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[t[17]||(t[17]=e("span",{class:"mr-3 material-icons"},"settings",-1)),u.value?a("",!0):(r(),n("span",ke,l(o(i)("menu.settings")),1)),u.value?a("",!0):(r(),n("svg",{key:1,class:h([m.settings?"rotate-90":"","w-4 h-4 ml-auto transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[16]||(t[16]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),u.value?a("",!0):f((r(),n("ul",ve,[e("li",null,[e("a",fe,[t[18]||(t[18]=e("span",{class:"text-base text-gray-500"},">",-1)),d(" "+l(o(i)("menu.profile")),1)])]),e("li",null,[e("a",he,[t[19]||(t[19]=e("span",{class:"text-base text-gray-500"},">",-1)),d(" "+l(o(i)("menu.account")),1)])])],512)),[[w,m.settings]])]),e("li",null,[e("button",{onClick:t[3]||(t[3]=k=>c("classroom")),class:"flex items-center w-full p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[t[21]||(t[21]=e("span",{class:"mr-3 material-icons"},"school",-1)),u.value?a("",!0):(r(),n("span",ce,l(o(i)("menu.classroom")),1)),u.value?a("",!0):(r(),n("svg",{key:1,class:h([m.classroom?"rotate-90":"","w-4 h-4 ml-auto transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[20]||(t[20]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),u.value?a("",!0):f((r(),n("ul",xe,[e("li",null,[_("manage classes")?(r(),b(o(g),{key:0,href:s.route("class-levels.index"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[t[22]||(t[22]=e("span",{class:"text-base text-gray-500"},">",-1)),d(" "+l(o(i)("menu.class_levels")),1)]),_:1},8,["href"])):a("",!0)]),e("li",null,[y(o(g),{href:s.route("rooms.index"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[t[23]||(t[23]=e("span",{class:"text-base text-gray-500"},">",-1)),d(" "+l(o(i)("menu.rooms")),1)]),_:1},8,["href"])]),s.route().has("assign-room.index")?(r(),n("li",be,[y(o(g),{href:s.route("assign-room.index"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[t[24]||(t[24]=e("span",{class:"text-base text-gray-500"},">",-1)),d(" "+l(s.$t("menu.assign_room")),1)]),_:1},8,["href"])])):a("",!0),e("li",null,[y(o(g),{href:"#",class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[t[25]||(t[25]=e("span",{class:"text-base text-gray-500"},">",-1)),d(" "+l(o(i)("menu.subjects")),1)]),_:1})])],512)),[[w,m.classroom]])]),e("li",null,[e("button",{onClick:t[4]||(t[4]=k=>c("manageStudent")),class:"flex items-center w-full p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[t[27]||(t[27]=e("span",{class:"mr-3 material-icons"},"people",-1)),u.value?a("",!0):(r(),n("span",we,l(s.$t("menu.manage_student")),1)),u.value?a("",!0):(r(),n("svg",{key:1,class:h([m.manageStudent?"rotate-90":"","w-4 h-4 ml-auto transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[26]||(t[26]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),u.value?a("",!0):f((r(),n("ul",_e,[s.route().has("students.index")?(r(),n("li",$e,[y(o(g),{href:s.route("students.index"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[t[28]||(t[28]=e("span",{class:"mr-2 text-xs align-middle material-icons"},"list",-1)),d(" "+l(s.$t("menu.all_students")),1)]),_:1},8,["href"])])):a("",!0),s.route().has("students.create")?(r(),n("li",Ce,[y(o(g),{href:s.route("students.create"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[t[29]||(t[29]=e("span",{class:"mr-2 text-xs align-middle material-icons"},"person_add",-1)),d(" "+l(s.$t("menu.add_student")),1)]),_:1},8,["href"])])):a("",!0),s.route().has("students.bulk_delete")?(r(),n("li",Se,[y(o(g),{href:s.route("students.bulk_delete"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[t[30]||(t[30]=e("span",{class:"mr-2 text-xs align-middle material-icons"},"delete",-1)),d(" "+l(s.$t("menu.delete_students")),1)]),_:1},8,["href"])])):a("",!0)],512)),[[w,m.manageStudent]])]),e("li",null,[e("button",{onClick:t[5]||(t[5]=k=>c("schoolBank")),class:"flex items-center w-full p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[t[32]||(t[32]=e("span",{class:"mr-3 material-icons"},"account_balance",-1)),u.value?a("",!0):(r(),n("span",Be,l(o(i)("menu.schoolBank")),1)),u.value?a("",!0):(r(),n("svg",{key:1,class:h([m.schoolBank?"rotate-90":"","w-4 h-4 ml-auto transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[31]||(t[31]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),u.value?a("",!0):f((r(),n("ul",je,[e("li",null,[_("view banks")?(r(),b(o(g),{key:0,href:s.route("bank.myaccount",s.$page.props.auth.user.student_id),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[t[33]||(t[33]=e("span",{class:"text-base text-gray-500"},">",-1)),d(" "+l(o(i)("menu.myAccount")),1)]),_:1},8,["href"])):a("",!0)]),e("li",null,[_("read banks")?(r(),b(o(g),{key:0,href:s.route("bank.user"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[t[34]||(t[34]=e("span",{class:"text-base text-gray-500"},">",-1)),d(" "+l(o(i)("menu.usersAccount")),1)]),_:1},8,["href"])):a("",!0)]),e("li",null,[s.route().has("bank.calculate-interest")&&_("read banks")?(r(),b(o(g),{key:0,href:s.route("bank.calculate-interest"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[t[35]||(t[35]=e("span",{class:"text-base text-gray-500"},">",-1)),d(" "+l(o(i)("menu.calculateInterest")),1)]),_:1},8,["href"])):a("",!0)])],512)),[[w,m.schoolBank]])]),e("li",null,[e("button",{onClick:t[6]||(t[6]=k=>c("importExport")),class:"flex items-center w-full p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[t[37]||(t[37]=e("span",{class:"mr-3 material-icons"},"import_export",-1)),u.value?a("",!0):(r(),n("span",Me,l(s.$t("menu.import_export")),1)),u.value?a("",!0):(r(),n("svg",{key:1,class:h([m.importExport?"rotate-90":"","w-4 h-4 ml-auto transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[36]||(t[36]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),u.value?a("",!0):f((r(),n("ul",Ee,[s.route().has("users.import.create")?(r(),n("li",Ie,[y(o(g),{href:s.route("users.import.create"),class:"flex items-center gap-1 py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[t[38]||(t[38]=e("span",{class:"text-base text-gray-500"},">",-1)),d(" "+l(s.$t("menu.import_users")),1)]),_:1},8,["href"])])):a("",!0),s.route().has("users.export.excel")?(r(),n("li",Le,[e("a",{href:s.route("users.export.excel"),class:"flex items-center gap-1 py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},[t[39]||(t[39]=e("span",{class:"text-base text-gray-500"},">",-1)),d(" "+l(s.$t("menu.export_users")),1)],8,Ae)])):a("",!0),s.route().has("users.export.word")?(r(),n("li",De,[e("a",{href:s.route("users.export.word"),class:"flex items-center gap-1 py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},[t[40]||(t[40]=e("span",{class:"text-base text-gray-500"},">",-1)),d(" "+l(s.$t("menu.export_users_word")),1)],8,Ve)])):a("",!0),s.route().has("import.subjects")?(r(),n("li",Ne,[y(o(g),{href:s.route("import.subjects"),class:"flex items-center gap-1 py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[t[41]||(t[41]=e("span",{class:"text-base text-gray-500"},">",-1)),d(" "+l(s.$t("menu.import_subjects")),1)]),_:1},8,["href"])])):a("",!0),s.route().has("import.bank_accounts")?(r(),n("li",Pe,[y(o(g),{href:s.route("import.bank_accounts"),class:"flex items-center gap-1 py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[t[42]||(t[42]=e("span",{class:"text-base text-gray-500"},">",-1)),d(" "+l(s.$t("menu.import_bank_accounts")),1)]),_:1},8,["href"])])):a("",!0)],512)),[[w,m.importExport]])]),e("li",null,[e("a",qe,[t[43]||(t[43]=e("span",{class:"mr-3 material-icons"},"info",-1)),u.value?a("",!0):(r(),n("span",Te,l(o(i)("menu.about")),1))])])])]),u.value?a("",!0):(r(),n("div",ze,[e("div",Oe,[f(e("select",{id:"language","onUpdate:modelValue":t[7]||(t[7]=k=>$.value=k),onChange:T,class:"p-1 text-sm bg-gray-100 rounded dark:bg-gray-700"},t[44]||(t[44]=[e("option",{value:"th"},"ไทย",-1),e("option",{value:"en"},"Eng",-1)]),544),[[G,$.value]])]),e("button",{onClick:q,class:"flex items-center space-x-2 text-sm hover:text-blue-500"},[e("span",Ue,l(x.value?"light_mode":"dark_mode"),1),e("span",null,l(x.value?o(i)("light"):o(i)("dark")),1)])]))],2),e("div",Fe,[s.$slots.header?(r(),n("header",Ye,[I(s.$slots,"header")])):a("",!0),e("main",Ge,[I(s.$slots,"default")]),e("footer",He,[e("div",Je,[e("span",null,"© "+l(new Date().getFullYear())+" "+l(o(i)("appName"))+". All rights reserved.",1),e("div",Ke,[e("span",Qe," v"+l(o(L)),1),e("div",Re,[e("a",We,l(o(i)("footer.privacy")),1),e("a",Xe,l(o(i)("footer.terms")),1)])])])])])])}}};export{tt as _};
