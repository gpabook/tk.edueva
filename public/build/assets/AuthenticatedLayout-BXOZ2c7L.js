import{s as z,A as U,p as E,d as C,r as F,y as O,c as n,o as r,b as t,k as o,l as w,e as p,u as a,S as g,t as l,j as i,f as v,n as f,Z as c,a as y,m as Y,i as Z,z as I}from"./app-a8NxV_Wl.js";const G={class:"flex h-screen text-gray-800 bg-gray-100 dark:bg-gray-900 dark:text-gray-100"},H={class:"pt-4 mt-6 border-b border-gray-200 dark:border-gray-700"},J={class:"px-3"},K={class:"relative flex flex-col items-center group"},Q=["src"],R={key:1,class:"w-full mt-2 text-center"},W={class:"text-sm font-semibold text-gray-800 truncate dark:text-gray-100"},X={class:"text-xs text-red-500 truncate dark:text-green-400"},ee={class:"text-xs text-gray-500 truncate dark:text-gray-400"},te={class:"mt-2 space-y-1"},se={class:"flex items-center justify-between p-4"},re={key:0,class:"flex items-center space-x-2 text-lg font-semibold"},oe={key:0,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ae={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},le={class:"px-2 py-2 border-gray-200 dark:border-gray-700"},ne={key:0},ue={key:0,class:"pl-10 mt-1 space-y-1"},ie=["action"],de=["value"],pe={type:"submit",class:"block py-1 text-sm text-left text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300"},ge={class:"flex-1 overflow-y-auto"},me={class:"px-2 space-y-2"},ye={key:0},ke={key:0},ve={key:0,class:"pl-10 mt-1 space-y-1"},fe={href:"#",class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},he={href:"#",class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},xe={key:0},ce={key:0,class:"pl-10 mt-1 space-y-1"},be={key:0},we={key:1},_e={key:2},$e={key:0},Ce={key:0,class:"pl-10 mt-1 space-y-1"},Se={key:0},je={key:0},Be={key:0,class:"pl-10 mt-1 space-y-1"},Me={key:0},Ee={key:1},Ie={key:2},Le={key:0},Ae={key:0,class:"pl-10 mt-1 space-y-1"},De={key:0},Ve={key:0,class:"pl-10 mt-1 space-y-1"},Ne={key:0},Pe={key:1},Te=["href"],qe={key:2},ze=["href"],Ue={key:3},Fe={key:4},Oe={href:"#",class:"flex items-center p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},Ye={key:0},Ze={key:0,class:"flex flex-col p-4 mt-auto space-y-3"},Ge={class:"flex items-center justify-between"},He={class:"material-icons"},Je={class:"flex flex-col flex-1"},Ke={key:0,class:"px-6 py-4 bg-white shadow dark:bg-gray-800"},Qe={class:"flex-1 p-6 overflow-auto bg-gray-50 dark:bg-gray-900"},Re={class:"px-6 py-4 text-sm text-gray-600 bg-white border-t border-gray-200 dark:text-gray-400 dark:bg-gray-800 dark:border-gray-700"},We={class:"flex flex-col items-center justify-between gap-2 sm:flex-row"},Xe={class:"flex flex-col items-center gap-2 sm:flex-row sm:gap-4"},et={class:"text-xs text-gray-500 sm:text-sm dark:text-gray-400"},tt={class:"flex gap-3"},st={href:"#",class:"hover:underline"},rt={href:"#",class:"hover:underline"},lt={__name:"AuthenticatedLayout",setup(ot){var j;const{locale:S,t:d}=z(),h=U(),L="1.0.0",_=s=>h.props.auth.user&&h.props.auth.user.permissions?h.props.auth.user.permissions.includes(s):!1,A=E(()=>{var s,e;return((e=(s=h.props.auth)==null?void 0:s.user)==null?void 0:e.avatar_url)??"/images/default-avatar.png"}),D=((j=document.querySelector('meta[name="csrf-token"]'))==null?void 0:j.getAttribute("content"))||"",u=C(!1);function V(){u.value=!u.value}const N=C(localStorage.getItem("desktopSidebarCollapsed")==="true"),P=E(()=>!N.value),m=F({settings:!1,classroom:!1,schoolBank:!1,profile:!1,userManagement:!1});function x(s){m[s]=!m[s]}const b=C(!1);function T(){b.value=!b.value;const s=document.documentElement;b.value?(s.classList.add("dark"),localStorage.setItem("theme","dark")):(s.classList.remove("dark"),localStorage.setItem("theme","light"))}const $=C("th");function q(){S.value=$.value,localStorage.setItem("lang",$.value)}return O(()=>{const s=localStorage.getItem("theme");(s==="dark"||!s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(b.value=!0,document.documentElement.classList.add("dark"));const e=localStorage.getItem("lang")||"th";$.value=e,S.value=e}),(s,e)=>{var B,M;return r(),n("div",G,[t("aside",{class:f([["bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300",u.value?"w-16":"w-64"],"flex flex-col"])},[t("div",H,[t("div",J,[t("div",K,[_("update avatar")?(r(),w(a(g),{key:0,href:s.route("avatar.update"),class:"block rounded-full hover:ring-2 hover:ring-blue-400",title:"View Profile"},{default:p(()=>[t("img",{src:A.value,alt:"User Avatar",class:"object-cover w-12 border border-gray-300 rounded-full shadow aspect-square dark:border-gray-600"},null,8,Q)]),_:1},8,["href"])):o("",!0),P.value?(r(),n("div",R,[t("p",W,l((B=a(h).props.auth.user)==null?void 0:B.name),1),t("p",X,l(a(h).props.auth.user.roles[0]),1),t("p",ee,l((M=a(h).props.auth.user)==null?void 0:M.email),1),t("div",te,[s.route().has("password.change")?(r(),w(a(g),{key:0,href:s.route("password.change"),class:"block text-xs text-blue-600 hover:underline dark:text-blue-400"},{default:p(()=>[i(l(a(d)("change_password")),1)]),_:1},8,["href"])):o("",!0)])])):o("",!0)])])]),t("div",se,[u.value?o("",!0):(r(),n("span",re,[e[9]||(e[9]=t("img",{src:"/images/appschool_logo_o.svg",alt:"Logo",class:"w-6 h-6"},null,-1)),t("span",null,l(a(d)("appName")),1)])),t("button",{onClick:V,class:"text-gray-500 dark:text-gray-300 hover:text-gray-700"},[u.value?(r(),n("svg",oe,e[10]||(e[10]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"},null,-1)]))):(r(),n("svg",ae,e[11]||(e[11]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])))])]),t("div",le,[t("button",{onClick:e[0]||(e[0]=k=>x("profile")),class:"flex items-center w-full p-2 text-left rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[e[13]||(e[13]=t("span",{class:"mr-3 material-icons"},"person",-1)),u.value?o("",!0):(r(),n("span",ne,l(s.$t("menu.profile")),1)),u.value?o("",!0):(r(),n("svg",{key:1,class:f([m.profile?"rotate-90":"","w-4 h-4 ml-auto transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[12]||(e[12]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),u.value?o("",!0):v((r(),n("ul",ue,[t("li",null,[y(a(g),{href:s.route("profile.edit"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[e[14]||(e[14]=t("span",{class:"text-base text-gray-500"},">",-1)),i(" "+l(s.$t("edit_profile")),1)]),_:1},8,["href"])]),t("li",null,[t("form",{method:"POST",action:s.route("logout"),onSubmit:e[1]||(e[1]=Y(k=>k.target.submit(),["prevent"]))},[t("input",{type:"hidden",name:"_token",value:a(D)},null,8,de),t("button",pe,[e[15]||(e[15]=t("span",{class:"text-base text-gray-500"},">",-1)),i(" "+l(s.$t("logout")),1)])],40,ie)])],512)),[[c,m.profile]])]),t("nav",ge,[t("ul",me,[t("li",null,[y(a(g),{href:s.route("dashboard"),class:"flex items-center p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},{default:p(()=>[e[16]||(e[16]=t("span",{class:"mr-3 material-icons"},"dashboard",-1)),u.value?o("",!0):(r(),n("span",ye,l(a(d)("menu.dashboard")),1))]),_:1},8,["href"])]),t("li",null,[t("button",{onClick:e[2]||(e[2]=k=>x("settings")),class:"flex items-center w-full p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[e[18]||(e[18]=t("span",{class:"mr-3 material-icons"},"settings",-1)),u.value?o("",!0):(r(),n("span",ke,l(a(d)("menu.settings")),1)),u.value?o("",!0):(r(),n("svg",{key:1,class:f([m.settings?"rotate-90":"","w-4 h-4 ml-auto transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[17]||(e[17]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),u.value?o("",!0):v((r(),n("ul",ve,[t("li",null,[t("a",fe,[e[19]||(e[19]=t("span",{class:"text-base text-gray-500"},">",-1)),i(" "+l(a(d)("menu.profile")),1)])]),t("li",null,[t("a",he,[e[20]||(e[20]=t("span",{class:"text-base text-gray-500"},">",-1)),i(" "+l(a(d)("menu.account")),1)])])],512)),[[c,m.settings]])]),t("li",null,[t("button",{onClick:e[3]||(e[3]=k=>x("userManagement")),class:"flex items-center w-full p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[e[22]||(e[22]=t("span",{class:"mr-3 material-icons"},"manage_accounts",-1)),u.value?o("",!0):(r(),n("span",xe,l(s.$t("menu.user_management")||"จัดการผู้ใช้"),1)),u.value?o("",!0):(r(),n("svg",{key:1,class:f([m.userManagement?"rotate-90":"","w-4 h-4 ml-auto transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[21]||(e[21]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),u.value?o("",!0):v((r(),n("ul",ce,[s.route().has("users.index")?(r(),n("li",be,[y(a(g),{href:s.route("users.index"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[e[23]||(e[23]=t("span",{class:"text-base text-gray-500"},">",-1)),i(" "+l(s.$t("menu.user_management")||"จัดการผู้ใช้"),1)]),_:1},8,["href"])])):o("",!0),s.route().has("roles.index")?(r(),n("li",we,[y(a(g),{href:s.route("roles.index"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[e[24]||(e[24]=t("span",{class:"text-base text-gray-500"},">",-1)),i(" "+l(s.$t("roles")),1)]),_:1},8,["href"])])):o("",!0),s.route().has("permissions.index")?(r(),n("li",_e,[y(a(g),{href:s.route("permissions.index"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[e[25]||(e[25]=t("span",{class:"text-base text-gray-500"},">",-1)),i(" "+l(s.$t("permissions")),1)]),_:1},8,["href"])])):o("",!0)],512)),[[c,m.userManagement]])]),t("li",null,[t("button",{onClick:e[4]||(e[4]=k=>x("classroom")),class:"flex items-center w-full p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[e[27]||(e[27]=t("span",{class:"mr-3 material-icons"},"school",-1)),u.value?o("",!0):(r(),n("span",$e,l(a(d)("menu.classroom")),1)),u.value?o("",!0):(r(),n("svg",{key:1,class:f([m.classroom?"rotate-90":"","w-4 h-4 ml-auto transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[26]||(e[26]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),u.value?o("",!0):v((r(),n("ul",Ce,[t("li",null,[_("manage classes")?(r(),w(a(g),{key:0,href:s.route("class-levels.index"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[e[28]||(e[28]=t("span",{class:"text-base text-gray-500"},">",-1)),i(" "+l(a(d)("menu.class_levels")),1)]),_:1},8,["href"])):o("",!0)]),t("li",null,[y(a(g),{href:s.route("rooms.index"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[e[29]||(e[29]=t("span",{class:"text-base text-gray-500"},">",-1)),i(" "+l(a(d)("menu.rooms")),1)]),_:1},8,["href"])]),s.route().has("assign-room.index")?(r(),n("li",Se,[y(a(g),{href:s.route("assign-room.index"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[e[30]||(e[30]=t("span",{class:"text-base text-gray-500"},">",-1)),i(" "+l(s.$t("menu.assign_room")),1)]),_:1},8,["href"])])):o("",!0),t("li",null,[y(a(g),{href:"#",class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[e[31]||(e[31]=t("span",{class:"text-base text-gray-500"},">",-1)),i(" "+l(a(d)("menu.subjects")),1)]),_:1})])],512)),[[c,m.classroom]])]),t("li",null,[t("button",{onClick:e[5]||(e[5]=k=>x("manageStudent")),class:"flex items-center w-full p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[e[33]||(e[33]=t("span",{class:"mr-3 material-icons"},"people",-1)),u.value?o("",!0):(r(),n("span",je,l(s.$t("menu.manage_student")),1)),u.value?o("",!0):(r(),n("svg",{key:1,class:f([m.manageStudent?"rotate-90":"","w-4 h-4 ml-auto transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[32]||(e[32]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),u.value?o("",!0):v((r(),n("ul",Be,[s.route().has("students.index")?(r(),n("li",Me,[y(a(g),{href:s.route("students.index"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[e[34]||(e[34]=t("span",{class:"mr-2 text-xs align-middle material-icons"},"list",-1)),i(" "+l(s.$t("menu.all_students")),1)]),_:1},8,["href"])])):o("",!0),s.route().has("students.create")?(r(),n("li",Ee,[y(a(g),{href:s.route("students.create"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[e[35]||(e[35]=t("span",{class:"mr-2 text-xs align-middle material-icons"},"person_add",-1)),i(" "+l(s.$t("menu.add_student")),1)]),_:1},8,["href"])])):o("",!0),s.route().has("students.bulk_delete")?(r(),n("li",Ie,[y(a(g),{href:s.route("students.bulk_delete"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[e[36]||(e[36]=t("span",{class:"mr-2 text-xs align-middle material-icons"},"delete",-1)),i(" "+l(s.$t("menu.delete_students")),1)]),_:1},8,["href"])])):o("",!0)],512)),[[c,m.manageStudent]])]),t("li",null,[t("button",{onClick:e[6]||(e[6]=k=>x("schoolBank")),class:"flex items-center w-full p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[e[38]||(e[38]=t("span",{class:"mr-3 material-icons"},"account_balance",-1)),u.value?o("",!0):(r(),n("span",Le,l(a(d)("menu.schoolBank")),1)),u.value?o("",!0):(r(),n("svg",{key:1,class:f([m.schoolBank?"rotate-90":"","w-4 h-4 ml-auto transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[37]||(e[37]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),u.value?o("",!0):v((r(),n("ul",Ae,[t("li",null,[_("view banks")?(r(),w(a(g),{key:0,href:s.route("bank.myaccount",s.$page.props.auth.user.student_id),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[e[39]||(e[39]=t("span",{class:"text-base text-gray-500"},">",-1)),i(" "+l(a(d)("menu.myAccount")),1)]),_:1},8,["href"])):o("",!0)]),t("li",null,[_("read banks")?(r(),w(a(g),{key:0,href:s.route("bank.user"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[e[40]||(e[40]=t("span",{class:"text-base text-gray-500"},">",-1)),i(" "+l(a(d)("menu.usersAccount")),1)]),_:1},8,["href"])):o("",!0)]),t("li",null,[s.route().has("bank.calculate-interest")&&_("read banks")?(r(),w(a(g),{key:0,href:s.route("bank.calculate-interest"),class:"block py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[e[41]||(e[41]=t("span",{class:"text-base text-gray-500"},">",-1)),i(" "+l(a(d)("menu.calculateInterest")),1)]),_:1},8,["href"])):o("",!0)])],512)),[[c,m.schoolBank]])]),t("li",null,[t("button",{onClick:e[7]||(e[7]=k=>x("importExport")),class:"flex items-center w-full p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[e[43]||(e[43]=t("span",{class:"mr-3 material-icons"},"import_export",-1)),u.value?o("",!0):(r(),n("span",De,l(s.$t("menu.import_export")),1)),u.value?o("",!0):(r(),n("svg",{key:1,class:f([m.importExport?"rotate-90":"","w-4 h-4 ml-auto transition-transform"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[42]||(e[42]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),u.value?o("",!0):v((r(),n("ul",Ve,[s.route().has("users.import.create")?(r(),n("li",Ne,[y(a(g),{href:s.route("users.import.create"),class:"flex items-center gap-1 py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[e[44]||(e[44]=t("span",{class:"text-base text-gray-500"},">",-1)),i(" "+l(s.$t("menu.import_users")),1)]),_:1},8,["href"])])):o("",!0),s.route().has("users.export.excel")?(r(),n("li",Pe,[t("a",{href:s.route("users.export.excel"),class:"flex items-center gap-1 py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},[e[45]||(e[45]=t("span",{class:"text-base text-gray-500"},">",-1)),i(" "+l(s.$t("menu.export_users")),1)],8,Te)])):o("",!0),s.route().has("users.export.word")?(r(),n("li",qe,[t("a",{href:s.route("users.export.word"),class:"flex items-center gap-1 py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},[e[46]||(e[46]=t("span",{class:"text-base text-gray-500"},">",-1)),i(" "+l(s.$t("menu.export_users_word")),1)],8,ze)])):o("",!0),s.route().has("import.subjects")?(r(),n("li",Ue,[y(a(g),{href:s.route("import.subjects"),class:"flex items-center gap-1 py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[e[47]||(e[47]=t("span",{class:"text-base text-gray-500"},">",-1)),i(" "+l(s.$t("menu.import_subjects")),1)]),_:1},8,["href"])])):o("",!0),s.route().has("import.bank_accounts")?(r(),n("li",Fe,[y(a(g),{href:s.route("import.bank_accounts"),class:"flex items-center gap-1 py-1 text-sm hover:text-gray-800 dark:hover:text-gray-300"},{default:p(()=>[e[48]||(e[48]=t("span",{class:"text-base text-gray-500"},">",-1)),i(" "+l(s.$t("menu.import_bank_accounts")),1)]),_:1},8,["href"])])):o("",!0)],512)),[[c,m.importExport]])]),t("li",null,[t("a",Oe,[e[49]||(e[49]=t("span",{class:"mr-3 material-icons"},"info",-1)),u.value?o("",!0):(r(),n("span",Ye,l(a(d)("menu.about")),1))])])])]),u.value?o("",!0):(r(),n("div",Ze,[t("div",Ge,[v(t("select",{id:"language","onUpdate:modelValue":e[8]||(e[8]=k=>$.value=k),onChange:q,class:"p-1 text-sm bg-gray-100 rounded dark:bg-gray-700"},e[50]||(e[50]=[t("option",{value:"th"},"ไทย",-1),t("option",{value:"en"},"Eng",-1)]),544),[[Z,$.value]])]),t("button",{onClick:T,class:"flex items-center space-x-2 text-sm hover:text-blue-500"},[t("span",He,l(b.value?"light_mode":"dark_mode"),1),t("span",null,l(b.value?a(d)("light"):a(d)("dark")),1)])]))],2),t("div",Je,[s.$slots.header?(r(),n("header",Ke,[I(s.$slots,"header")])):o("",!0),t("main",Qe,[I(s.$slots,"default")]),t("footer",Re,[t("div",We,[t("span",null,"© "+l(new Date().getFullYear())+" "+l(a(d)("appName"))+". All rights reserved.",1),t("div",Xe,[t("span",et," v"+l(a(L)),1),t("div",tt,[t("a",st,l(a(d)("footer.privacy")),1),t("a",rt,l(a(d)("footer.terms")),1)])])])])])])}}};export{lt as _};
