import{x as k,w as b,e as v,X as V,J as N,c as d,o as n,a as c,u as i,g as S,f as p,b as t,p as B,l as D,F as x,i as U,t as m,P as f,n as $,k as E,L as F}from"./app-Drxg6_yr.js";import{_ as K}from"./AuthenticatedLayout-DRRzTg1e.js";import{P as A}from"./PrimaryButton-Bohlji5Y.js";import{_ as C}from"./TextInput-D1vpEFVL.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200"},T={class:"py-12"},j={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},L={class:"bg-white shadow-sm dark:bg-gray-800 sm:rounded-lg"},R={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},q={class:"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700"},z={class:"px-6 py-4 text-sm text-gray-900 whitespace-nowrap dark:text-gray-100"},I={class:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap dark:text-gray-300"},J={class:"px-6 py-4 text-sm text-gray-900 whitespace-nowrap dark:text-gray-100"},M={key:0},O={class:"flex items-center justify-end mt-6"},Y={__name:"BulkEditForm",props:{teachers:Array,errors:Object,success:String,warning:String,error:String},setup(_){const u=_,r=k({teachers:u.teachers.map(e=>({id:e.id,name:e.name,email:e.email}))});b(()=>u.teachers,e=>{r.teachers=e.map(a=>({id:a.id,name:a.name,email:a.email}))},{deep:!0});const o=v([]),h=e=>{e&&o.value.push(e)};V(()=>{o.value=[]}),N(()=>{o.value=[]});const w=()=>{const e={teachers:r.teachers.map(a=>({id:a.id,name:a.name}))};r.transform(()=>e).put(route("teachers.bulk-update.submit"),{preserveScroll:!0})},g=(e,a)=>{let s=-1;e.key==="ArrowDown"?(e.preventDefault(),a<o.value.length-1&&(s=a+1)):e.key==="ArrowUp"&&(e.preventDefault(),a>0&&(s=a-1)),s!==-1&&o.value[s]&&F(()=>{o.value[s].focus(),o.value[s].select()})};return(e,a)=>(n(),d(x,null,[c(i(S),{title:e.$t("bulk_edit_teachers_title")},null,8,["title"]),c(K,null,{header:p(()=>[t("h2",P,m(e.$t("bulk_edit_teachers_header")),1)]),default:p(()=>[t("div",T,[t("div",j,[t("form",{onSubmit:B(w,["prevent"])},[t("div",L,[t("table",R,[a[1]||(a[1]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase dark:text-gray-300"},"ID"),t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase dark:text-gray-300"},"Email"),t("th",{scope:"col",class:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase dark:text-gray-300"},"Name (Editable)")])],-1)),t("tbody",q,[(n(!0),d(x,null,U(i(r).teachers,(s,y)=>(n(),d("tr",{key:s.id},[t("td",z,m(s.id),1),t("td",I,m(s.email),1),t("td",J,[c(C,{type:"text",class:"block w-full mt-1",modelValue:s.name,"onUpdate:modelValue":l=>s.name=l,required:"",ref_for:!0,ref:h,onKeydown:[f(l=>g(l,y),["down"]),f(l=>g(l,y),["up"])]},null,8,["modelValue","onUpdate:modelValue","onKeydown"])])]))),128)),!i(r).teachers||i(r).teachers.length===0?(n(),d("tr",M,a[0]||(a[0]=[t("td",{colspan:"3",class:"px-6 py-4 text-sm text-center text-gray-500 whitespace-nowrap dark:text-gray-400"}," No teachers found. ",-1)]))):D("",!0)])])]),t("div",O,[c(A,{class:$({"opacity-25":i(r).processing}),disabled:i(r).processing},{default:p(()=>[E(m(e.$t("save_all_changes_button")),1)]),_:1},8,["class","disabled"])])],32)])])]),_:1})],64))}};export{Y as default};
