import{x as b,p as w,c as u,o as p,a as m,u as a,g as $,e as _,b as t,t as e,m as h,f as l,v as c,F as g,h as x}from"./app-a8NxV_Wl.js";import{_ as S}from"./AuthenticatedLayout-BXOZ2c7L.js";const V={class:"text-xl font-semibold text-gray-800 dark:text-gray-100"},F={class:"py-12"},U={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},D={class:"overflow-hidden bg-white shadow dark:bg-gray-800 sm:rounded-lg"},B={class:"p-6 text-gray-800 dark:text-gray-100"},N={class:"mb-8"},L={class:"text-lg font-medium"},M={class:"grid grid-cols-1 gap-8 md:grid-cols-2"},j={class:"mb-2 font-semibold"},z=["placeholder"],A=["placeholder"],C=["disabled"],E={class:"mb-2 font-semibold"},O=["placeholder"],T=["placeholder"],W=["disabled"],q={class:"mt-10"},G={class:"mb-2 font-semibold"},H={class:"overflow-x-auto"},I={class:"w-full text-sm text-left border-collapse"},J={class:"border-b dark:border-gray-600"},K={class:"p-2"},P={class:"p-2"},Q={class:"p-2"},R={class:"p-2"},X={class:"p-2"},Y={class:"p-2 capitalize"},Z={class:"p-2"},tt={class:"p-2"},et={class:"mt-6"},st=["href"],dt={__name:"Account",props:{account:Object,acc_name:String},setup(k){const r=k,n=b({student_id:r.account.student_id,amount:"",description:""});function y(){n.post(route("bank.deposit"),{onSuccess:()=>n.reset()})}const i=b({student_id:r.account.student_id,amount:"",description:""});function f(){i.post(route("bank.withdraw"),{onSuccess:()=>i.reset()})}const v=w(()=>Number(r.account.balance).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})+" บาท");return(s,d)=>(p(),u(g,null,[m(a($),{title:s.$t("bank.my_account")},null,8,["title"]),m(S,null,{header:_(()=>[t("h2",V,e(s.$t("my_bank_account"))+" |"+e(s.$t("name"))+": "+e(r.acc_name)+" "+e(s.$t("user_id"))+": "+e(r.account.student_id),1)]),default:_(()=>[t("div",F,[t("div",U,[t("div",D,[t("div",B,[t("div",N,[t("h3",L,e(s.$t("bank.balance"))+": "+e(v.value),1)]),t("div",M,[t("div",null,[t("h4",j,e(s.$t("bank.deposit")),1),t("form",{onSubmit:h(y,["prevent"]),class:"flex flex-col gap-3"},[l(t("input",{type:"hidden","onUpdate:modelValue":d[0]||(d[0]=o=>a(n).student_id=o)},null,512),[[c,a(n).student_id]]),l(t("input",{"onUpdate:modelValue":d[1]||(d[1]=o=>a(n).amount=o),type:"number",step:"0.01",class:"p-2 border rounded dark:bg-gray-700 dark:border-gray-600",placeholder:s.$t("bank.amount")},null,8,z),[[c,a(n).amount]]),l(t("input",{"onUpdate:modelValue":d[2]||(d[2]=o=>a(n).description=o),type:"text",class:"p-2 border rounded dark:bg-gray-700 dark:border-gray-600",placeholder:s.$t("bank.description_optional")},null,8,A),[[c,a(n).description]]),t("button",{type:"submit",class:"px-4 py-2 text-white bg-green-600 rounded hover:bg-green-700",disabled:a(n).processing},e(s.$t("bank.submit_deposit")),9,C)],32)]),t("div",null,[t("h4",E,e(s.$t("bank.withdraw")),1),t("form",{onSubmit:h(f,["prevent"]),class:"flex flex-col gap-3"},[l(t("input",{type:"hidden","onUpdate:modelValue":d[3]||(d[3]=o=>a(i).student_id=o)},null,512),[[c,a(i).student_id]]),l(t("input",{"onUpdate:modelValue":d[4]||(d[4]=o=>a(i).amount=o),type:"number",step:"0.01",class:"p-2 border rounded dark:bg-gray-700 dark:border-gray-600",placeholder:s.$t("bank.amount")},null,8,O),[[c,a(i).amount]]),l(t("input",{"onUpdate:modelValue":d[5]||(d[5]=o=>a(i).description=o),type:"text",class:"p-2 border rounded dark:bg-gray-700 dark:border-gray-600",placeholder:s.$t("bank.description_optional")},null,8,T),[[c,a(i).description]]),t("button",{type:"submit",class:"px-4 py-2 text-white bg-red-600 rounded hover:bg-red-700",disabled:a(i).processing},e(s.$t("bank.submit_withdraw")),9,W)],32)])]),t("div",q,[t("h4",G,e(s.$t("bank.transaction_history")),1),t("div",H,[t("table",I,[t("thead",null,[t("tr",J,[t("th",K,e(s.$t("bank.date")),1),t("th",P,e(s.$t("bank.type")),1),t("th",Q,e(s.$t("bank.amount")),1),t("th",R,e(s.$t("bank.description")),1)])]),t("tbody",null,[(p(!0),u(g,null,x(r.account.transactions,o=>(p(),u("tr",{key:o.id,class:"border-t dark:border-gray-700"},[t("td",X,e(o.created_at),1),t("td",Y,e(o.type),1),t("td",Z,e(Number(o.amount).toFixed(2)),1),t("td",tt,e(o.description),1)]))),128))])])])]),t("div",et,[t("a",{href:s.route("bank.passbook.pdf",r.account.student_id),target:"_blank",class:"inline-block px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700"},e(s.$t("bank.print_passbook")),9,st)])])])])])]),_:1})],64))}};export{dt as default};
