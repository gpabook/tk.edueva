import{A,a2 as L,y as M,r as V,W as T,w as j,c as d,o as a,a as c,u as h,g as B,e as x,b as s,f as _,v as D,F as u,h as p,t as o,i as b,S as v,j as N,l as C,n as F}from"./app-a8NxV_Wl.js";import{_ as U}from"./AuthenticatedLayout-BXOZ2c7L.js";import{l as H}from"./lodash-CiE3EFiP.js";const I={class:"text-xl font-semibold text-gray-800 dark:text-gray-200"},O={class:"px-4 py-8 mx-auto max-w-7xl"},R={class:"flex flex-wrap gap-4 mb-6"},W=["value"],$=["value"],z=["href"],P=["href"],q=["href"],G={class:"overflow-x-auto bg-white rounded shadow dark:bg-gray-800"},J={class:"min-w-full text-sm text-left"},K={class:"px-4 py-2"},Q={class:"px-4 py-2"},X={class:"px-4 py-2"},Y={class:"px-4 py-2"},Z={class:"flex justify-center mt-6"},re={__name:"Index",props:{students:Object,rooms:Array,classLevels:Array,filters:Object},setup(w){const k=A(),E=L.useToast();M(()=>{var t;const l=(t=k.props.flash)==null?void 0:t.success;l&&E.success(l,{position:"top-right",duration:3e3})});const n=w,r=V({search:n.filters.search||"",class_level_id:n.filters.class_level_id||"",room_id:n.filters.room_id||""}),S=H.debounce(()=>{T.get(route("students.index"),r,{preserveScroll:!0,preserveState:!0,replace:!0})},400);return j(()=>({...r}),()=>{S()},{deep:!0}),(l,t)=>(a(),d(u,null,[c(h(B),{title:"All Students"}),c(U,null,{header:x(()=>[s("h2",I,o(l.$t("menu.all_students")),1)]),default:x(()=>[s("div",O,[s("div",R,[_(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.search=e),type:"text",placeholder:"Search...",class:"p-2 border rounded dark:bg-gray-700 dark:text-white"},null,512),[[D,r.search]]),_(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.class_level_id=e),class:"p-2 border rounded dark:bg-gray-700 dark:text-white"},[t[3]||(t[3]=s("option",{value:""},"All Class Levels",-1)),(a(!0),d(u,null,p(n.classLevels,e=>(a(),d("option",{key:e.id,value:e.id},o(e.name_th),9,W))),128))],512),[[b,r.class_level_id]]),_(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.room_id=e),class:"p-2 border rounded dark:bg-gray-700 dark:text-white"},[t[4]||(t[4]=s("option",{value:""},"All Rooms",-1)),(a(!0),d(u,null,p(n.rooms,e=>{var i;return a(),d("option",{key:e.id,value:e.id},o((i=e.class_level)==null?void 0:i.name_th)+" "+o(e.name_room_th),9,$)}),128))],512),[[b,r.room_id]]),s("a",{href:l.route("students.export.excel",r),class:"px-4 py-2 text-white bg-green-600 rounded hover:bg-green-700"}," Export Excel ",8,z),s("a",{href:l.route("students.export.excel",r),class:"px-4 py-2 text-white bg-green-600 rounded hover:bg-green-700"}," Export Excel guardians ",8,P),s("a",{href:l.route("students.export.pdf",r),class:"px-4 py-2 text-white bg-red-600 rounded hover:bg-red-700"}," Export PDF ",8,q)]),s("div",G,[s("table",J,[t[6]||(t[6]=s("thead",{class:"bg-gray-100 dark:bg-gray-700"},[s("tr",null,[s("th",{class:"px-4 py-2"},"ID"),s("th",{class:"px-4 py-2"},"Name"),s("th",{class:"px-4 py-2"},"Room"),s("th",{class:"px-4 py-2"},"Action")])],-1)),s("tbody",null,[(a(!0),d(u,null,p(n.students.data,e=>{var i,m,g,f,y;return a(),d("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[s("td",K,o(e.student_id),1),s("td",Q,o(e.name_th)+" "+o(e.surname_th),1),s("td",X,o((g=(m=(i=e.current_room)==null?void 0:i[0])==null?void 0:m.class_level)==null?void 0:g.name_th)+" "+o((y=(f=e.current_room)==null?void 0:f[0])==null?void 0:y.name_room_th),1),s("td",Y,[c(h(v),{href:l.route("students.edit",e.id),class:"text-blue-600 hover:underline"},{default:x(()=>t[5]||(t[5]=[N(" Edit ")])),_:2},1032,["href"])])])}),128))])])]),s("div",Z,[(a(!0),d(u,null,p(n.students.links,e=>(a(),C(h(v),{key:e.label,href:e.url||"#",class:F(["px-3 py-1 mx-1 border rounded",{"bg-blue-500 text-white":e.active}]),innerHTML:e.label},null,8,["href","class","innerHTML"]))),128))])])]),_:1})],64))}};export{re as default};
