import{x as C,c as i,o as a,a as _,u as t,g as S,w as v,b as e,e as N,j as c,h as m,F as x,p as y,t as n,H as p,m as w,S as V,f as L,n as T}from"./app-DZ4JoI7A.js";import{_ as R}from"./AuthenticatedLayout-C_ZF79jt.js";import"./ApplicationLogo-PNbVN-75.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"text-xl font-semibold leading-tight text-gray-800"},B={class:"py-12"},j={class:"max-w-2xl mx-auto sm:px-6 lg:px-8"},F={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},M={class:"p-6 bg-white border-b border-gray-200"},E={class:"mb-4"},O={key:0,disabled:"",value:""},D=["value"],H={key:0,class:"mt-1 text-xs text-red-500"},I={class:"mb-4"},P={key:0,class:"mt-1 text-xs text-red-500"},z={class:"mb-4"},$={key:0,class:"mt-1 text-xs text-red-500"},q={class:"mb-4"},G=["value"],J={key:0,class:"mt-1 text-xs text-red-500"},K={key:1,class:"mt-1 text-xs text-red-500"},Q={class:"flex items-center justify-end mt-6"},W=["disabled"],oe={__name:"Form",props:{mode:String,room:{type:Object,default:()=>({})},classLevels:Array,errors:Object,potentialAdvisors:Array,currentAdvisorIds:{type:Array,default:()=>[]}},setup(r){var f,g,h;const l=r,d=C({_method:l.mode==="edit"?"PUT":"POST",class_level_id:((f=l.room)==null?void 0:f.class_level_id)||(l.classLevels.length>0?l.classLevels[0].id:""),name_room_en:((g=l.room)==null?void 0:g.name_room_en)||"",name_room_th:((h=l.room)==null?void 0:h.name_room_th)||"",advisor_ids:l.currentAdvisorIds||[]}),b=l.mode==="create"?"Create New Room":"Edit Room",k=l.mode==="create"?"Create Room":"Update Room",A=()=>{const u={preserveScroll:!0,onSuccess:()=>{l.mode==="create"&&d.reset("name_room_en","name_room_th","advisor_ids")}};l.mode==="create"?d.post(route("rooms.store"),u):d.post(route("rooms.update",l.room.id),u)};return(u,o)=>(a(),i(x,null,[_(t(S),{title:t(b)},null,8,["title"]),_(R,null,{header:v(()=>[e("h2",U,n(t(b)),1)]),default:v(()=>[e("div",B,[e("div",j,[e("div",F,[e("div",M,[e("form",{onSubmit:N(A,["prevent"])},[e("div",E,[o[4]||(o[4]=e("label",{for:"class_level_id",class:"block text-sm font-medium text-gray-700"},"Class Level",-1)),c(e("select",{id:"class_level_id","onUpdate:modelValue":o[0]||(o[0]=s=>t(d).class_level_id=s),class:"block w-full py-2 pl-3 pr-10 mt-1 text-base border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[r.classLevels.length===0?(a(),i("option",O,"No class levels available")):m("",!0),(a(!0),i(x,null,y(r.classLevels,s=>(a(),i("option",{key:s.id,value:s.id},n(s.name_en)+" ("+n(s.code)+") ",9,D))),128))],512),[[p,t(d).class_level_id]]),r.errors.class_level_id?(a(),i("div",H,n(r.errors.class_level_id),1)):m("",!0)]),e("div",I,[o[5]||(o[5]=e("label",{for:"name_room_en",class:"block text-sm font-medium text-gray-700"},"Room Name (English)",-1)),c(e("input",{type:"text",id:"name_room_en","onUpdate:modelValue":o[1]||(o[1]=s=>t(d).name_room_en=s),class:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., A, B, 1, 2"},null,512),[[w,t(d).name_room_en]]),r.errors.name_room_en?(a(),i("div",P,n(r.errors.name_room_en),1)):m("",!0)]),e("div",z,[o[6]||(o[6]=e("label",{for:"name_room_th",class:"block text-sm font-medium text-gray-700"},"Room Name (Thai)",-1)),c(e("input",{type:"text",id:"name_room_th","onUpdate:modelValue":o[2]||(o[2]=s=>t(d).name_room_th=s),class:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g., เอ, บี, 1, 2"},null,512),[[w,t(d).name_room_th]]),r.errors.name_room_th?(a(),i("div",$,n(r.errors.name_room_th),1)):m("",!0)]),e("div",q,[o[7]||(o[7]=e("label",{for:"advisor_ids",class:"block text-sm font-medium text-gray-700"},"Advisors",-1)),c(e("select",{multiple:"",id:"advisor_ids","onUpdate:modelValue":o[3]||(o[3]=s=>t(d).advisor_ids=s),class:"block w-full h-32 py-2 pl-3 pr-10 mt-1 text-base border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},[(a(!0),i(x,null,y(r.potentialAdvisors,s=>(a(),i("option",{key:s.id,value:s.id},n(s.name),9,G))),128))],512),[[p,t(d).advisor_ids]]),o[8]||(o[8]=e("p",{class:"mt-2 text-sm text-gray-500"},"Hold down the Ctrl (windows) / Command (Mac) button to select multiple options.",-1)),r.errors.advisor_ids?(a(),i("div",J,n(r.errors.advisor_ids),1)):m("",!0),r.errors["advisor_ids.*"]?(a(),i("div",K,n(r.errors["advisor_ids.*"]),1)):m("",!0)]),e("div",Q,[_(t(V),{href:u.route("rooms.index"),class:"mr-4 text-gray-600 hover:text-gray-900"},{default:v(()=>o[9]||(o[9]=[L(" Cancel ")])),_:1},8,["href"]),e("button",{type:"submit",disabled:t(d).processing,class:T(["px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",{"opacity-50":t(d).processing}])},n(t(k)),11,W)])],32)])])])])]),_:1})],64))}};export{oe as default};
